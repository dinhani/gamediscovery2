# ==============================================================================
# LIBRARIES
# ==============================================================================
source("../../libraries.r", encoding = "UTF-8")

# ==============================================================================
# READ GAMES
# ==============================================================================
games <- readRDS("../2.3-dataframe-enhancer/data/games.rds")

# ==============================================================================
# DISCARD VALUES
# ==============================================================================
games <- games
  group_by(Type, Value) %>%
  mutate(
    Remove = Type %in% c("GameMode", "Genre", "Platform") && n() < 30
  ) %>%
  filter(Remove == FALSE) %>%
  select(ID, Name, Type, Value)

# ==============================================================================
# SAVE GAMES
# ==============================================================================
saveRDS(games, file = "data/games.rds")
