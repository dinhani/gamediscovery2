# ==============================================================================
# LIBRARIES
# ==============================================================================
source("../../libraries.r", encoding = "UTF-8")

# ==============================================================================
# FUNCTIONS
# ==============================================================================
source("functions/EnhanceWeight.r", encoding = "UTF-8")
source("functions/EnhanceYear.r", encoding = "UTF-8")

# ==============================================================================
# READ GAMES
# ==============================================================================
games = readRDS("../2.2-dataframe-recoder/data/games.rds")
games = as.data.table(games)

# ==============================================================================
# ENHANCE VALUES
# ==============================================================================
games[              , Weight := EnhanceWeight(Type),  ]
games[Type == "Year", Value  := EnhanceYear(Value),   ]

# ==============================================================================
# SAVE GAMES
# ==============================================================================
saveRDS(games, file = "data/games.rds")
